<link href="/metro/blue/jtable.css" rel="stylesheet" type="text/css" />
<link href="/css/jquery-ui.css" rel="stylesheet" type="text/css" />
<link href="/css/validationEngine.jquery.css" rel="stylesheet" type="text/css" />

<script type="text/javascript">
    jQuery().ready(function() {
        jQuery('#divTabla').jtable({
            title:'Lista de Usuarios',
//            selecting:true,
//            multiselect:true,
//            selectingCheckboxes: true,
            actions:{
                listAction:'/admin/listaUsuario',
                updateAction:'/admin/edit',
                deleteAction:'/admin/delete'
            },
            fields:{
                Id:{
                    key: true,
                    create: false,
                    edit: false,
                    list: false,
                    inputClass: 'validate[required]'
                },
                Nombre:{
                    title:'Nombre',
                    width:'20%',
                    inputClass: 'validate[required]'
                },
                Apellido:{
                    title:'Apellido',
                    width:'28%',
                    inputClass: 'validate[required]'
                },
                Correo:{
                    title:'Correo',
                    width:'24%',
                    inputClass: 'validate[required]'
                },
                
                perfil:{
                    title:'Perfil',
                    width:'20%',
                    options:'/admin/serchPerfil',
                    inputClass: 'validate[required]'
                }
            },
            formCreated:function(event,data){
                data.form.find('input[name="Nombre"]').addClass('validate[required] form-control');
                data.form.find('input[name="Apellido"]').addClass('validate[required] form-control');
                data.form.find('input[name="Correo"]').addClass('validate[required,custom[email]] form-control');
                data.form.find('input[name="perfil"]').addClass('validate[required] form-control');
                data.form.validationEngine();
            },
            formSubmitting:function(event,data){
                return data.form.validationEngine('validate');
            },
            formClosed:function(event,data){
                data.form.validationEngine('hide');
                data.form.validationEngine('detach');
            }
        });
        jQuery('#divTabla').jtable('load');
    });
</script>
<div>
    <h2>Edici&oacute;n de Usuarios</h2>
    <div id="divTabla"></div>
</div>